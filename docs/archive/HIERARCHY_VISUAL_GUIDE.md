# Visual Guide: Hierarchical Model

## ğŸ¯ Your English Proficiency Example - Complete Implementation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  ğŸ“‹ GOAL: Improve English Proficiency                                       â”‚
â”‚  â”œâ”€ Status: active                                                          â”‚
â”‚  â”œâ”€ Priority: high                                                          â”‚
â”‚  â””â”€ Progress: Auto-calculated from projects                                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                                                                 â”‚
       â–¼                                                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ PROJECT 1                     â”‚         â”‚ ğŸ“ PROJECT 2                     â”‚
â”‚ Increase English Vocabulary      â”‚         â”‚ Reduce English Accent            â”‚
â”‚ â”œâ”€ goalId: âœ…                    â”‚         â”‚ â”œâ”€ goalId: âœ…                    â”‚
â”‚ â”œâ”€ parentProjectId: âŒ           â”‚         â”‚ â”œâ”€ parentProjectId: âŒ           â”‚
â”‚ â”œâ”€ isLeaf: false (has children) â”‚         â”‚ â”œâ”€ isLeaf: false (has children) â”‚
â”‚ â””â”€ level: 0                      â”‚         â”‚ â””â”€ level: 0                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                             â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
       â–¼              â–¼              â”‚              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‚ SUB 1.1  â”‚ â”‚ ğŸ“‚ SUB 1.2  â”‚     â”‚      â”‚ ğŸ“‚ SUB 2.1               â”‚
â”‚ Read Lit.   â”‚ â”‚ Talk Native â”‚     â”‚      â”‚ Accent Courses           â”‚
â”‚ â”œâ”€ parent:  â”‚ â”‚ â”œâ”€ parent:  â”‚     â”‚      â”‚ â”œâ”€ parentProjectId: âœ…   â”‚
â”‚ â”‚  proj-1   â”‚ â”‚ â”‚  proj-1   â”‚     â”‚      â”‚ â”œâ”€ goalId: âŒ            â”‚
â”‚ â”œâ”€ isLeaf:  â”‚ â”‚ â”œâ”€ isLeaf:  â”‚     â”‚      â”‚ â”œâ”€ isLeaf: true          â”‚
â”‚ â”‚  true     â”‚ â”‚ â”‚  true     â”‚     â”‚      â”‚ â””â”€ level: 1              â”‚
â”‚ â””â”€ level: 1 â”‚ â”‚ â””â”€ level: 1 â”‚     â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚              â”‚
       â”‚              â”‚              â”‚              â”‚
       â”‚              â”‚              â”‚              â”‚
       â–¼              â–¼              â–¼              â–¼
    â”Œâ”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”
    â”‚TASKâ”‚        â”‚TASKâ”‚        â”‚TASKâ”‚         â”‚TASKâ”‚
    â”‚ 1  â”‚        â”‚ 4  â”‚        â”‚ X  â”‚         â”‚ 6  â”‚
    â””â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”
    â”‚TASKâ”‚        â”‚TASKâ”‚                       â”‚TASKâ”‚
    â”‚ 2  â”‚        â”‚ 5  â”‚                       â”‚ 7  â”‚
    â””â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”                                     â”Œâ”€â”€â”€â”€â”
    â”‚TASKâ”‚                                     â”‚TASKâ”‚
    â”‚ 3  â”‚                                     â”‚ 8  â”‚
    â””â”€â”€â”€â”€â”˜                                     â””â”€â”€â”€â”€â”˜

Task 6: "Research about Accent reduction/clarity classes" â­
```

## ğŸ” Field-by-Field Breakdown

### Goal Level
```javascript
{
  id: "goal-001",
  title: "Improve English Proficiency",
  objective: "Achieve native-level fluency",
  status: "active",
  priority: "high",
  progress: 42  // Calculated from all linked projects
}
```

### Project Level (Top-level under Goal)
```javascript
{
  id: "proj-001",
  title: "Increase English Vocabulary",
  
  // Hierarchy Links
  goalId: "goal-001",           // âœ… Links UP to goal
  parentProjectId: undefined,    // âŒ No parent project
  
  // Structure Metadata  
  isLeaf: false,                // Has sub-projects, not tasks
  level: 0,                     // First level under goal
  
  // Project Details
  objective: "Learn 5000 new words",
  timeframe: "long-term",
  status: "active",
  category: "mastery",
  priority: "high",
  
  // Collections
  linkedTaskIds: [],            // Empty - not a leaf
  linkedThoughtIds: ["thought-123"]
}
```

### Sub-Project Level (Under Project)
```javascript
{
  id: "subproj-001",
  title: "Read English Literature",
  
  // Hierarchy Links
  goalId: undefined,             // âŒ Not directly under goal
  parentProjectId: "proj-001",   // âœ… Links UP to parent project
  
  // Structure Metadata
  isLeaf: true,                  // Has tasks, not sub-projects
  level: 1,                      // Nested one level
  
  // Project Details
  objective: "Read 50 classic novels",
  timeframe: "long-term",
  status: "active",
  category: "mastery",
  priority: "high",
  
  // Collections
  linkedTaskIds: ["task-001", "task-002", "task-003"],  // âœ… Has tasks
  linkedThoughtIds: []
}
```

### Task Level (Only under Leaf Projects)
```javascript
{
  id: "task-001",
  title: "Find 10 classic English novels",
  
  // Link to parent
  projectId: "subproj-001",     // âœ… Links to leaf project only
  
  // Task Details
  category: "mastery",
  priority: "high",
  status: "active",
  done: false,
  dueDate: "2025-11-01",
  estimatedMinutes: 60
}
```

## ğŸ¨ Visual Hierarchy Indicators

### Project Card Display

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ Increase English Vocabulary          BRANCH â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                 â”‚
â”‚ ğŸ¯ Improve English Proficiency                 â”‚
â”‚ â”œâ”€ Type: Top-level Project                     â”‚
â”‚ â”œâ”€ Contains: 2 sub-projects                    â”‚
â”‚ â”œâ”€ Total Tasks: 5 (across all sub-projects)    â”‚
â”‚ â””â”€ Progress: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 42%                    â”‚
â”‚                                                 â”‚
â”‚ ğŸ“‚ Sub-Projects:                                â”‚
â”‚   â€¢ Read English Literature (3 tasks)          â”‚
â”‚   â€¢ Talk to more native speakers (2 tasks)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‚ Read English Literature               LEAF  â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                 â”‚
â”‚ Improve English > Vocabulary > Read Literature â”‚
â”‚ â”œâ”€ Type: Sub-Project (Level 1)                 â”‚
â”‚ â”œâ”€ Parent: Increase English Vocabulary         â”‚
â”‚ â”œâ”€ Tasks: 3 total, 1 completed                 â”‚
â”‚ â””â”€ Progress: â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘ 33%                    â”‚
â”‚                                                 â”‚
â”‚ âœ… Tasks:                                       â”‚
â”‚   âœ“ Find 10 classic novels                     â”‚
â”‚   â—‹ Read 1 chapter daily                       â”‚
â”‚   â—‹ Maintain vocabulary journal                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Breadcrumb Navigation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ  Home > ğŸ“‹ Goals > ğŸ¯ Improve English > ğŸ“ Vocabulary >   â”‚
â”‚   ğŸ“‚ Read Literature > âœ… Find novels                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tree View (Collapsible)

```
ğŸ“‹ Goals
  â”œâ”€ ğŸ¯ Improve English Proficiency                    [Expand â–¼]
  â”‚   â”œâ”€ ğŸ“ Increase English Vocabulary                [Expand â–¼]
  â”‚   â”‚   â”œâ”€ ğŸ“‚ Read English Literature                     [3 tasks]
  â”‚   â”‚   â””â”€ ğŸ“‚ Talk to more native speakers                [2 tasks]
  â”‚   â””â”€ ğŸ“ Reduce English Accent                      [Expand â–¼]
  â”‚       â””â”€ ğŸ“‚ Get into Accent courses                     [3 tasks]
  â”œâ”€ ğŸ¯ Learn Spanish                                  [Collapsed â–¶]
  â””â”€ ğŸ¯ Get Fit                                        [Collapsed â–¶]
```

## ğŸ”„ Data Flow

### Creating Items (Top-Down)

```
User Creates Goal
       â†“
    [Goal Form]
       â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Goal DB â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
User Creates Project (under Goal)
       â†“
   [Project Form]
   â”œâ”€ Select: Under which goal?
   â””â”€ Select: Branch or Leaf?
       â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Project DB  â”‚
   â”‚ goalId: âœ“   â”‚
   â”‚ isLeaf: âœ—   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
User Creates Sub-Project (under Project)
       â†“
   [Sub-Project Form]
   â”œâ”€ Select: Under which project?
   â””â”€ Select: Branch or Leaf?
       â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Project DB      â”‚
   â”‚ parentId: âœ“     â”‚
   â”‚ isLeaf: âœ“       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
User Creates Task (under Leaf Project)
       â†“
   [Task Form]
   â””â”€ Select: Under which project? (only shows leaf projects)
       â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Task DB     â”‚
   â”‚ projectId:âœ“ â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Progress Calculation (Bottom-Up)

```
   Tasks (Leaf Level)
   â”œâ”€ Task 1: âœ“ Done
   â”œâ”€ Task 2: âœ— Pending
   â””â”€ Task 3: âœ— Pending
       â†“
   Leaf Project: 33% (1/3 tasks done)
       â†“
   Parent Project: 42% (avg of all sub-projects)
       â†“
   Goal: 42% (avg of all top-level projects)
```

## ğŸ¯ Query Patterns

### Get Everything Under a Goal

```typescript
const goal = getGoal(goalId);
const topProjects = getProjectsByGoal(goalId);

for (const project of topProjects) {
  const subProjects = getSubProjects(project.id);
  
  for (const subProject of subProjects) {
    if (isLeafProject(subProject.id)) {
      const tasks = getTasks().filter(t => t.projectId === subProject.id);
      console.log(`  Tasks: ${tasks.length}`);
    } else {
      const nestedSubProjects = getSubProjects(subProject.id);
      console.log(`  Sub-projects: ${nestedSubProjects.length}`);
    }
  }
}
```

### Get Breadcrumb Path from Task

```typescript
const task = getTask(taskId);
const leafProject = getProject(task.projectId);
const hierarchy = getProjectHierarchy(leafProject.id);

// hierarchy = [topProject, subProject, leafProject]

const topProject = hierarchy[0];
const goal = getGoal(topProject.goalId);

// Full path:
const breadcrumb = [
  goal.title,
  ...hierarchy.map(p => p.title),
  task.title
];

console.log(breadcrumb.join(' > '));
// "Improve English > Increase Vocabulary > Read Literature > Find novels"
```

## ğŸ“Š Progress Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  GOAL PROGRESS OVERVIEW                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  ğŸ¯ Improve English Proficiency                     42%    â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                         â”‚
â”‚                                                            â”‚
â”‚  ğŸ“ Projects (2)                                           â”‚
â”‚  â”œâ”€ Increase English Vocabulary              â–ˆâ–ˆâ–ˆâ–ˆâ–‘ 33%    â”‚
â”‚  â”‚  â”œâ”€ Read English Literature (3 tasks)     â–ˆâ–ˆâ–ˆâ–‘â–‘ 33%    â”‚
â”‚  â”‚  â””â”€ Talk to native speakers (2 tasks)     â–ˆâ–ˆâ–ˆâ–ˆâ–‘ 50%    â”‚
â”‚  â”‚                                                         â”‚
â”‚  â””â”€ Reduce English Accent                    â–ˆâ–ˆâ–ˆâ–ˆâ–‘ 50%    â”‚
â”‚     â””â”€ Accent courses (3 tasks)              â–ˆâ–ˆâ–ˆâ–ˆâ–‘ 50%    â”‚
â”‚                                                            â”‚
â”‚  âœ… Total Tasks: 8                                         â”‚
â”‚  âœ“  Completed: 4                                           â”‚
â”‚  â—‹  Pending: 4                                             â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Color Coding

```
ğŸ“‹ Goal            â†’ Purple/Violet   #8B5CF6
ğŸ“ Top Project     â†’ Blue            #3B82F6
ğŸ“‚ Sub-Project     â†’ Green           #10B981
âœ… Task            â†’ Gray            #6B7280

Completed          â†’ Green check     âœ“
In Progress        â†’ Yellow circle   â—
Pending            â†’ Gray circle     â—‹
On Hold            â†’ Orange pause    â¸
Cancelled          â†’ Red cross       âœ—
```

## ğŸ¯ Summary

This visual guide shows how your hierarchical model is implemented:

- **4 Levels**: Goal â†’ Project â†’ Sub-Project â†’ Task
- **Clear Relationships**: Each level links to its parent
- **Type Safety**: Leaf vs Branch projects enforced
- **Progress Tracking**: Rolls up from tasks to goal
- **Navigation**: Breadcrumbs and tree view support
- **Flexibility**: Unlimited nesting depth

Your exact example "Improve English Proficiency" is fully supported! ğŸ‰
